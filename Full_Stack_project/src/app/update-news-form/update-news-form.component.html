<h1>
  Update News Admin Panel
  <button class="btn-back" (click)="goBack()">Back</button>
</h1>

<div class="form-container">
  <form #newsForm="ngForm" (ngSubmit)="onEdit()">
    <div class="form-group">
      <label for="newsCategory">Category:</label>
      <select
        id="newsCategory"
        [(ngModel)]="newsList.newsCategory"
        name="newsCategory"
        required
        #newsCategory="ngModel"
      >
        <option value="" disabled>Select Category</option>
        <option
          *ngFor="let category of categoryList"
          [value]="category"
          [selected]="category === newsList.newsCategory"
        >
          {{ category }}
        </option>
      </select>
      <div
        *ngIf="newsCategory.invalid && newsCategory.touched"
        class="error-message"
      >
        Enter a valid category.
      </div>
    </div>

    <div class="form-group">
      <label for="newsTitle">Title:</label>
      <input
        type="text"
        id="newsTitle"
        name="newsTitle"
        [(ngModel)]="newsList.newsTitle"
        required
        #newsTitle="ngModel"
      />
      <div *ngIf="newsTitle.invalid && newsTitle.touched" class="error-message">
        Title is required.
      </div>
    </div>

    <div class="form-group">
      <label for="newsDescription">Description:</label>
      <textarea
        id="newsDescription"
        name="newsDescription"
        [(ngModel)]="newsList.newsDescription"
        required
        #newsDescription="ngModel"
      ></textarea>
      <div
        *ngIf="newsDescription.invalid && newsDescription.touched"
        class="error-message"
      >
        Description is required.
      </div>
    </div>

    <div class="form-group">
      <label for="newsContent">Content:</label>
      <textarea
        id="newsContent"
        name="newsContent"
        [(ngModel)]="newsList.newsContent"
        required
        #newsContent="ngModel"
      ></textarea>
      <div
        *ngIf="newsContent.invalid && newsContent.touched"
        class="error-message"
      >
        Content is required.
      </div>
    </div>

    <div class="form-group">
      <label for="newsURL">URL:</label>
      <input
        type="url"
        id="newsURL"
        name="newsURL"
        [(ngModel)]="newsList.newsURL"
        required
        #newsURL="ngModel"
      />
      <div *ngIf="newsURL.invalid && newsURL.touched" class="error-message">
        Enter a valid URL.
      </div>
    </div>

    <div class="form-group">
      <label for="newsImage">Image URL:</label>
      <input
        type="url"
        id="newsImage"
        name="newsImage"
        [(ngModel)]="newsList.newsImage"
        required
        pattern="^(https?:\/\/.*(?:png|jpg|jpeg|gif|bmp|webp).*)$"
        #newsImage="ngModel"
      />
      <div *ngIf="newsImage.invalid && newsImage.touched" class="error-message">
        <div *ngIf="newsImage.errors?.['pattern']">
          Enter a valid image URL.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="newsPublishedAt">Published At:</label>
      <input
        type="date"
        id="newsPublishedAt"
        name="newsPublishedAt"
        [(ngModel)]="newsList.newsPublishedAT"
        required
        #newsPublishedAt="ngModel"
      />
      <div
        *ngIf="newsPublishedAt.invalid && newsPublishedAt.touched"
        class="error-message"
      >
        Published date is required.
      </div>
    </div>

    <div class="form-group">
      <label for="newsAuthor">Author:</label>
      <input
        type="text"
        id="newsAuthor"
        name="newsAuthor"
        [(ngModel)]="newsList.newsAuthor"
        required
        #newsAuthor="ngModel"
      />
      <div
        *ngIf="newsAuthor.invalid && newsAuthor.touched"
        class="error-message"
      >
        Author name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="newsSource">Source:</label>
      <input
        type="text"
        id="newsSource"
        name="newsSource"
        [(ngModel)]="newsList.newsSource"
        required
        #newsSource="ngModel"
      />
      <div
        *ngIf="newsSource.invalid && newsSource.touched"
        class="error-message"
      >
        Source is required.
      </div>
    </div>

    <button type="submit" class="btn-submit" [disabled]="newsForm.invalid">
      Submit
    </button>
  </form>
</div>
